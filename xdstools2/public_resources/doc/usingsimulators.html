<html>
<head>
<title>Using Simulators</title>
</head>

<body>
<h1>Using Simulators</h1>

<p>Simulators are implementations of IHE actors suitable for testing.  They can be
full implementations or partial implementations, just enough to satisfy a testing requirement.

<p>Within the toolkit, simulators are controlled via these tabs:
<ul>
<li>Simulator Control - creates new instances of simulators. Also allows editing of some 
controlling parameters
<li>Simulator Message View - once a simulator is created, messages to/from the simulator are logged. This
tab displays the log entries the simulator creates.
<li>Site/Actor Configuration - although you can view the simulator endpoints on the Simulator Control
tab, they can also be viewed on this tab.  Under the site selection list on the left is a checkbox labeled
<i>Show Sims</i>.  When checked, simulator configurations are shown in this tab.  They may not be edited!
<li>Toolkit Configuration - the following parameters, editable on this tab, affect simulators:

<ul>
<li>Toolkit_Host - this should be set to the hostname of the machine running the toolkit.  This is
used to construct simulator endpoints.
<li>Toolkit_Port - this should be set to the port of the servlet container hosting the toolkit. 
This is used to construct simulator endpoints.
</ul>


</ul>

<h2>General Operation</h2>

<p>To create a simulator, open the <i>Simulator Control</i> tab. Select the actor type and press 
Create Actor Simulator button. The simulator parameters will be displayed below. Some parameters you
can edit, like the name (shows up in the site selection section of most tabs). Others you cannot edit, like the 
simulator id and the generated endpoints. Edits can be saved via the Save button and the simulator
can be deleted with the Delete button.

<p>Once a simulator is created it exists until deleted. It is running any time the toolkit is running.
But, it only shows up on site selection lists when the Simulator Control tab is open.

<p>Simulator endpoints can be used within the toolkit or from outside the toolkit. An example of using
a simulator endpoint from within the toolkit is creating a Document Registry simulator and then 
using the FindDocuments tab to send a Stored Query to it.  And example of using a simulator endpoint 
from outside the toolkit is to create the same Document Registry simulator and then send it a
FindDocuments Stored Query from your Document Consumer implementation.

<p>When you create simulators, the simulator ids are saved for you as a cookie in your browser.
If you use multiple browsers (maybe on different machines) or you do not enable cookies then you
must keep track of the simulators you create on your own.  To load simulators paste the simulator ids
in the text box at the top of the Simulator Control tab and press Load Simulators. Multiple
simulator ids can be loaded by entering a comma separated list.

<p>If you need to delete old, forgotten simulators, you can do this manually as well. Look in 
Toolkit Configuration and note the path shown in the External_Cache parameter. This path
points to a directory which holds all configuration information for the toolkit including the
saved state of all simulators.  In this directory is a child directory named <i>simdb</i> which
contains a single directory for each simulator.  These directories are named with the simulator id.
To delete the simulator, delete the directory and its contents.

</body>


</html>